# 02. HTTP와 HTTP 응답 코드



### HTTP

HTTP(Hyper Text Transfer Protocol)를 직역하면 ~~'신난 글자 변환 프로토콜'~~이다. HTTP는 인터넷 상에서 정보를 주고 받을 수 있도록 하는 프로토콜(규칙)이다. HTTP는 클라이언트의 요청이 있을 때만 서버가 응답하여 해당 정보를 전송하고 곧바로 연결을 종료하는 방식이다.

> 실시간 연결이 아니라 필요한 경우에만 서버로 접근하는 서비스에서 사용할 때 용이하다.



HTTP의 특징은 다음과 같다.

+ 클라이언트가 요청을 보내는 경우에만 서버가 응답하는 단방향 통신
+ 클라이언트와 서버의 동작, 상태정보를 저장하지 않는다  **Stateless**
+ 서버로부터 응답을 받은 후에는 연결이 바로 종료된다 **Connectionless**



HTTP에서는 **연결 통신**을 진행하는 TCP(Transfer Control Protocol)와 **비연결 통신**을 진행하는 UDP(User Datagram Protocol) 방법을 사용한다.

> 이에 대해 자세한 것은 직접 공부하는 것이 좋을 것 같아 깊게 설명하지 않았다.



### HTTP 응답 코드

이 프로토콜을 사용하였을 때, 서버와 통신이 잘 되었는지 문제가 발생하였는지를 알기 위해서 상황에 따라 코드를 지정해 놓았는데, 이것을 **HTTP 응답 코드**라고 한다.

> 더 많은 코드는 https://developer.mozilla.org/ko/docs/Web/HTTP/Status에 나와있다.

| 코드 | 메세지                     |
| ---- | -------------------------- |
| 1XX  | 정보 교환                  |
| 2XX  | 성공                       |
| 3XX  | 방향 바꿈                  |
| 4XX  | 클라이언트 오류            |
| 5XX  | 서버 오류 (예상할 수 없음) |



아래의 코드들은 자주 사용하는 것들이다.

| 코드 | 메세지 / 상황                                                |
| ---- | ------------------------------------------------------------ |
| 200  | OK / 보통 GET에서 사용한다.                                  |
| 201  | CREATE / 로그인이나 회원가입, 또는 게시물을 작성했을 때처럼 새로운 데이터가 생겼음을 알린다 |
| 204  | NO CONTENT / PUT이나 PATCH처럼 클라이언트의 요구를 처리했으나 반환할 데이터가 없을 때 사용한다. |
| 400  | BAD REQUEST / URL이나 값 등이 잘못되었을 때 반환된다.        |
| 404  | NOT FOUND / 요구하는 데이터를 찾지 못했을 때 사용한다.       |
| 500  | INTERNAL SERVER ERROR / 서버 내부에서 오류가 났을 때 사용한다. |



### HTTP Method

클라이언트에서 어떤 방식의 정보 교환을 요구하는지 알려준다. (클라이언트 입장에서 생각하면 외우기 쉬울 것이다.)

| 메소드 | 역할                                                         |
| ------ | ------------------------------------------------------------ |
| POST   | 클라이언트가 서버로 정보를 보낸다. 정보 저장을 요구하면 POST /  로그인, 회원가입, 게시물 작성 |
| GET    | 서버에 있는 정보를 가져오기를 바랄 때 사용한다 / 게시물 보기, 목록 가져오기 |
| PUT    | 서버에 저장되어 있는 정보 전체 수정을 바랄 때 사용한다 / 게시물 수정 |
| DELETE | 서버에 저장되어 있는 정보를 삭제하기를 바랄 때 사용한다 / 게시물 삭제 |
| PATCH  | 데이터의 일부 수정을 요청할 때 사용한다 / 게시물 수정        |

이러한 HTTP Method를 사용할 때는 다음과 같은 원칙을 지켜야 한다.

+ **SAFE METHOD** : Get 요청은 원칙적으로 이를 호출한다고 해서 서버 측의 데이터에 변화가 있으면 안된다.
+ **IDEMPOTENT METHOD** : Get, Put, Delete는 동일한 요청이 한 번 전송되었을 때와 여러 번 연속하여 전송되었을 때의 처리 결과가 동일해야 한다. (멱등성을 가졌다)



### HTTP 요청

HTTP 요청은 요청(상태) 라인, 헤더, 바디 이렇게 3가지로 분류할 수 있다.

+ **상태 라인**

  HTTP 메소드와 상태 코드, 응답 이유가 담겨져 있다.

+ **헤더**

  자료의 타입이나 통신에 대한 정보를 가지고 있다.

  > 어떤 형태의 데이터를 주고 받는지, 등등

+ 바디가 시작되기 전 헤더와 바디 사이에는 **공백**이 존재 한다.

+ **바디**

  요청에 필요한 데이터가 담겨져 있다.

  > 게시물 내용 등등